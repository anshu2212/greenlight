<%
# BigBlueButton open source conferencing system - http://www.bigbluebutton.org/.
# Copyright (c) 2018 BigBlueButton Inc. and by respective authors (see below).
# This program is free software; you can redistribute it and/or modify it under the
# terms of the GNU Lesser General Public License as published by the Free Software
# Foundation; either version 3.0 of the License, or (at your option) any later
# version.
#
# BigBlueButton is distributed in the hope that it will be useful, but WITHOUT ANY
# WARRANTY; without even the implied warranty of MERCHANTABILITY or FITNESS FOR A
# PARTICULAR PURPOSE. See the GNU Lesser General Public License for more details.
# You should have received a copy of the GNU Lesser General Public License along
# with BigBlueButton; if not, see <http://www.gnu.org/licenses/>.
%>
<div class="background pb-1">
  <div class="container">
    <div class="row pt-7 pt-sm-9">
      <div class="col-lg-8 col-sm-12 m-auto">
        <h1 class="m-auto text-center">Welcome <%= current_user.name %></h1>
      </div>
    </div>
    <div class="row">
      <div class="col-12 col-sm-5 col-lg-4 text-center text-sm-left ml-auto">
        <a href="" class="btn btn-outline-primary" data-toggle="modal" data-target="#createMeetingModal" >Create New Meeting</a>
      </div>
      <div class="col-12 col-sm-5 col-lg-4 text-center text-sm-right mr-auto">
        <a href="" class="btn btn-outline-primary" data-toggle="modal" data-target="#joinMeetingModal" >Join Meeting</a>
      </div>
    </div>
    <div class="row pt-5">
      <div class="col-12 col-sm-10 col-lg-8 m-auto">
        <div class="row">
          <div class="col">
            Meeting:
          </div>
        </div>
        <div class="row">
          <div class="col">
            <div class="row table-heading">
              <div class="col-1">
                Index
              </div>
              <div class="col">
                Name
              </div>
              <div class="col">
                Recordings
              </div>
              <div class="col">
                Status
              </div>
              <div class="col">
                Date of Meeting
              </div>
              <div class="col-1">
                Actions
              </div>
            </div>
            <% current_user.all_rooms.each.with_index do |room, index| %>
              <%= render "rooms/components/room_row", room: room, index:index %>
            <% end %>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
<%= render "shared/modals/delete_room_modal" %> 
<%= render "shared/modals/create_meeting_modal" %>
<%= render "shared/modals/list_room_recording_modal" %>

<%= render "shared/modals/join_meeting_modal" %>